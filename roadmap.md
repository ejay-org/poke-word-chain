# 🚀 개발 로드맵

## Phase 0: 프로젝트 초기화
- [x] **Step 1**: Vite + React + Tailwind CSS 프로젝트 생성
- [x] **Step 2**: 기본 폴더 구조 설정 (components, utils, data, hooks 등)
- [x] **Step 3**: Git 저장소 초기화 및 .gitignore 설정

## Phase 1: 데이터 구축 및 기본 UI
- [x] **Step 4**: 1~9세대 한국어 포켓몬 이름 데이터 수집 및 `pokemonData.json` 구축
  - 포켓몬 이름, 세대 정보 포함
  - JSON 형식: 확장된 구조로 구현 (타입, 능력치, 이미지, 설명 등)
  - 1세대 10개 샘플 데이터 구축 완료
  - 데이터 수집 스크립트 (`scripts/fetchGen1Pokemon.js`) 추가
  - 추후 도감 기능 확장 가능한 구조로 설계
- [ ] **Step 5**: 포켓몬 도감 컨셉의 기본 레이아웃 구조 및 테마 색상(Red) 적용
- [ ] **Step 6**: 텍스트 입력 UI 컴포넌트 (입력창, 제출 버튼)
- [ ] **Step 7**: 대화 히스토리 UI (사용자/AI 말풍선, 스크롤)

## Phase 2: 핵심 게임 엔진 (로컬 로직)
- [ ] **Step 8**: 단어 검증 로직(`validateWord`) 구현
  - 포켓몬 DB 존재 여부 확인
  - 중복 사용 체크
  - 끝말잇기 규칙 검증
- [ ] **Step 9**: 한국어 두음법칙 처리 로직 구현
  - 'ㄹ' → 'ㅇ' 변환 (예: '리' → '이')
  - 'ㄴ' → 'ㅇ' 변환 (예: '뇨' → '요')
  - 받침 처리 (예: '잠만보' → '보' 또는 '뽀')
- [ ] **Step 10**: 게임 상태 관리 (React Context 또는 상태 라이브러리)
  - 현재 턴, 사용된 단어 목록, 게임 상태 등
- [ ] **Step 11**: 게임 종료 조건 구현 (패배/승리 판정)
- [ ] **Step 12**: 힌트 생성 알고리즘 구현
  - 규칙에 맞는 미사용 단어 하나 추출
  - 힌트 버튼 UI 추가

## Phase 3: AI 페르소나 통합 (텍스트 기반)
- [ ] **Step 13**: Google Gemini API 계정 생성 및 API 키 발급
- [ ] **Step 14**: 환경 변수 설정 (`VITE_GEMINI_API_KEY`)
- [ ] **Step 15**: Gemini API 연동 및 테스트
  - API 호출 및 응답 처리
  - 에러 핸들링 (네트워크 오류, API 한도 초과)
- [ ] **Step 16**: 게임 로직 + LLM 통합 프롬프트 설계
  - 게임 규칙 및 현재 상태를 LLM에 전달
  - 포켓몬 마스터 페르소나 정의
  - 유효한 포켓몬 이름 선택 + 캐릭터 대사 생성
  - 응답 파싱 (단어 추출)
- [ ] **Step 17**: 힌트 요청 전용 프롬프트 최적화
  - 사용자가 힌트 요청 시 자연스러운 힌트 제공
- [ ] **Step 18**: 단위 테스트 작성 (단어 검증, 두음법칙, 게임 로직)
- [ ] **Step 19**: 엣지 케이스 처리 및 버그 수정
- [ ] **Step 20**: **텍스트 기반 게임 완전 동작 확인 (AI 페르소나 포함)**

## Phase 4: 음성 인식 기능 추가 (STT)
- [ ] **Step 21**: Groq API 계정 생성 및 API 키 발급
- [ ] **Step 22**: 환경 변수 추가 (`VITE_GROQ_API_KEY`)
- [ ] **Step 23**: Web MediaRecorder API를 활용한 음성 녹음 기능 구현
  - 마이크 버튼 UI 추가
  - 녹음 상태 표시 (녹음 중, 처리 중)
- [ ] **Step 24**: Groq API 연동 및 실시간 STT 구현
  - Whisper 모델 사용
  - 오디오 파일 포맷 변환 (Blob → File)
  - 에러 핸들링
- [ ] **Step 25**: 텍스트 입력과 음성 입력 통합
  - 두 방식 모두 동일한 게임 로직 사용
  - 입력 모드 전환 UI

## Phase 5: 음성 출력 기능 추가 (TTS)
- [ ] **Step 26**: Web Speech API를 활용한 TTS 음성 출력 구현
  - 한국어 음성 설정
  - 음성 재생 상태 관리
- [ ] **Step 27**: AI 응답 텍스트를 음성으로 출력
  - LLM 응답 → TTS 자동 재생
  - 음성 출력 on/off 토글
- [ ] **Step 28**: 음성 재생 중 UI 피드백 (스피커 아이콘, 애니메이션)

## Phase 6: UX 고도화 및 폴리싱
- [ ] **Step 29**: 음성 인식 중 시각적 피드백 (로딩 애니메이션, 파형 효과)
- [ ] **Step 30**: 게임 종료 UI 및 애니메이션 효과 개선
  - 승리/패배 모달
  - 게임 통계 표시 (총 턴 수, 사용한 포켓몬 수)
- [ ] **Step 31**: 반응형 디자인 및 모바일 최적화
- [ ] **Step 32**: 접근성 개선 (키보드 단축키, 스크린 리더 지원)
- [ ] **Step 33**: 게임 설정 UI (난이도, 음성 속도, 테마 등)

## Phase 7: 배포 및 성능 최적화
- [ ] **Step 34**: Vercel 배포 설정 및 환경 변수 등록
- [ ] **Step 35**: HTTPS 환경 검증 (마이크 권한 필수)
- [ ] **Step 36**: 번들 사이즈 최적화 (코드 스플리팅, 트리 쉐이킹)
- [ ] **Step 37**: API 응답 시간 측정 및 최적화
- [ ] **Step 38**: 통합 테스트 및 사용자 테스트 (실제 환경)
- [ ] **Step 39**: 최종 버그 수정 및 프로덕션 릴리스

---

## 📝 참고 사항

### 🎯 Phase별 완성 기준

#### Phase 2 완료 시 (Step 12)
✅ **로컬 게임 로직이 완성됩니다**
- 단어 검증, 두음법칙, 게임 상태 관리
- 힌트 생성 알고리즘
- 하지만 봇은 아직 응답하지 않음 (LLM 없음)

#### Phase 3 완료 시 (Step 20) ⭐ **핵심 마일스톤**
✅ **텍스트로 완전히 플레이 가능한 게임이 완성됩니다**
- 사용자: 포켓몬 이름 텍스트 입력
- AI: LLM이 페르소나로 응답 (단어 선택 + 대사)
- 두음법칙, 게임 종료 조건 정상 작동
- **이 시점부터 완전한 게임 플레이 가능** (음성 기능 없이)

#### Phase 4 완료 시 (Step 25)
✅ **음성으로도 입력 가능해집니다**
- 마이크로 말하면 텍스트로 변환되어 기존 로직 실행
- 텍스트/음성 입력 선택 가능

#### Phase 5 완료 시 (Step 28)
✅ **AI 응답이 음성으로도 출력됩니다**
- LLM 응답 텍스트 → 음성 자동 재생
- 완전한 음성 대화 가능

### 우선순위 높은 단계
- **Phase 0-2**: 게임 로직의 기반
- **Phase 3**: AI 페르소나 통합 (핵심 기능)
- **Step 8-9**: 단어 검증 및 두음법칙 (철저한 검증 필요)
- **Step 16**: LLM 프롬프트 설계 (반복적 튜닝 필요)
- **Step 20**: 텍스트 기반 게임 완전 동작 확인 (마일스톤)

### 반복 작업이 예상되는 단계
- **Step 9**: 한국어 두음법칙 예외 케이스가 많아 지속적 개선 필요
- **Step 16-17**: LLM 프롬프트는 반복적인 튜닝과 테스트 필요
  - 게임 규칙을 정확히 따르도록 프롬프트 개선
  - 유효하지 않은 단어 선택 시 재시도 로직
  - 페르소나 톤앤매너 조정
- **Step 36-37**: 성능 최적화는 지속적인 모니터링과 개선 필요

### 기술적 난이도 높은 단계
- **Step 9**: 한국어 언어학적 예외 처리
- **Step 16**: 효과적인 프롬프트 엔지니어링
  - LLM이 게임 규칙을 정확히 이해하고 따르도록 설계
  - 응답에서 포켓몬 이름 추출 및 검증
- **Step 24**: 오디오 스트리밍 및 포맷 변환

### API 비용 절감 팁
- **Phase 3부터 API 사용 시작** (Gemini)
- 개발 중에는 짧은 대화로만 테스트
- LLM 프롬프트는 목업 응답으로 먼저 테스트 후 실제 API 연동
- Gemini는 무료 할당량이 있으므로 초기 개발에 활용
- STT(Phase 4)는 짧은 단어로만 테스트 (비용 절감)

### 개발 전략
1. **Phase 0-2**: API 없이 UI와 로컬 로직 구축
2. **Phase 3**: Gemini API 연동 (텍스트 게임 완성)
3. **Phase 4-5**: 음성 기능은 선택적 개선 사항
   - Phase 3까지만 완성해도 게임 플레이 가능
   - 음성 기능은 UX 향상을 위한 부가 기능
